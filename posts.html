{% extends 'base.html' %}

{% block head %}
<title>Posts</title>
{% endblock %}



{% block body %}
    <!-- <h1>All posts will come here !</h1> -->

    <hr>
   
    <h2>Create a new Blog Post</h2>
    <form action = "\posts" method = "POST">
        <label for="title">Title :</label>
        <input class="form-control" type="text" name = "title" id = "title" placeholder="Enter Title" aria-label="Enter Title">
        <br>
        <label for="author">Author :</label> 
        <input class="form-control" type="text" name = "author" id = "author" placeholder="Author name" aria-label="Author name">

        <br>
          
        <div class="form-group">
            <label for="content">Post :</label>
            <textarea class="form-control" name = "content" id="content" placeholder= "Enter text here" aria-label="Enter text here" rows="3"></textarea>
        </div>
        <input type="submit" value = "Post">

    </form>
    <hr>

    {% for post in posts %}
    <br>
        <h2>{{ post.title}}</h2>

            {% if post.author %}
                <small>Written by {{post.author}} on {{post.date_posted}}</small>
            {% else %}
                <small>Written by anonymous on {{post.date_posted}}</small>

            {% endif %}
        <br><br>
        <p style="white-space:pre-wrap ;">{{post.content}}</p>

        <a class= "btn btn-danger" href="\posts\delete\{{post.id}}">Delete</a>
        <a class = "btn btn-primary" href="\posts\edit\{{post.id}}">Edit</a>
        <hr>
    {% endfor %}
{% endblock %}